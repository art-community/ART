# ART генератор кода для мапперов (ValueTo(From)ModelMapper)

## Назначение
Генератор позволяет на основе POJO классов-моделей создать мапперы для преобразований из/в Value.

## Принцип работы
Запуск генератора осуществляется через Gradle задачу - `generateValueMappersByModels`.
Далее выполняется следующая последовательность шагов:
1. Компиляция пакета **model** (обязательна, так как генератор работает с объектами .class);
2. Анализ пакета **mapping** на необходимость удаления мапперов, модели которых не существуют;
2. Создание пакета **mapping** (при необходимости) и генерация в него мапперов.
 
## Настройка
Для корректной работы маппера в `build.gradle(.kts)` проекта, для которого требуется сгенерировать маппинг, нужно прописать:
```
ext {
    packageName = 'имя_родительского_пакета'
}
```

## Ограничения
1. Нет поддержки вложенных коллекций `List<List>`
2. Основные поддерживаемые классы:
```
    java.lang.String;
    java.lang.Integer / int;
    java.lang.Double / double;
    java.lang.Long / long;
    java.lang.Byte / byte;
    java.lang.Boolean / boolean;
    java.lang.Float / float;
    java.util.Date;
    java.util.List;
    java.util.Set;
    java.util.Map;
    java.util.Queue;
    ru.art.entity.Entity
```
3. Классы-модели должны содержать аннотации @Getter или @Data или @Value, и @Builder.
4. Не поддерживается генерация полей того же типа, что и класс, в котором они находятся.
5. Не поддерживается генерация моделей с циклической зависимостью.

## Возможности
1. Аннотация **@IgnoreGeneration**

Данная аннотация может быть использована:
1) Для тех классов пакета `model`, для которых не нужно генерировать маппер
2) Для тех классов пакета `mapping`, которые должны игнорироваться при анализе и генерации (не происходит удаления и перезаписи классов)
2. Аннотация **@GenerationException**

Данной аннотацией помечаются те поля сгенерированных мапперов, в билдере которых часть полей не была сгенерирована.
Аннотация имеет вид:
```
@GenerationException(
	notGeneratedFields = "[firstField, secondField]"
)
```
где notGeneratedFields - список несгенерированных полей.
3. Поддерживает генерацию классов во вложенных в `model` папках.
4. Поддерживает генерацию мапперов для вложенных класов моделей.

## Что почитать
[JavaPoet](https://www.baeldung.com/java-poet)